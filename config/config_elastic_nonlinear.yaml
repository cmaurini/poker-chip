defaults:
  - _self_
  - parameters_elastic_nonlinear


hydra:
  run:
    # Simplified output directory with key parameters
    dir: results/elastic_nl/${output_name}/L${geometry.L}_H${geometry.H}_hdiv${geometry.h_div}/${now:%Y%m%d_%H%M%S}
  sweep:
    # Clean multirun directory structure
    dir: results/elastic_nl/${output_name}/multirun_${now:%Y%m%d_%H%M%S}
    # Short, readable leaf dir name: original geometry-based name
    # plus the solver name to avoid overwrites.
    # Also append Hydra's per-run job index for uniqueness.
    subdir: L${geometry.L}_H${geometry.H}_hdiv${geometry.h_div}_${geometry.geometric_dimension}D_${hydra.job.num}
  job:
    chdir: true
    config:
      override_dirname:
        kv_sep: '='
        item_sep: '_'
        exclude_keys:
          - output_name
          - now