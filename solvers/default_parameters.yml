#  === Model === #
model:
    E: 1.
    nu: 0.25
    w1: 1.
    ell: 0.1
    k_res: 1.e-8
    model_dimension: 2
    model_type: "2D" #could be "2D"/"plane-strain"

# === Solver === #
solvers:
    elasticity:
        prefix: elasticity
        snes:
            snes_type: newtontr
            snes_stol: 1e-8
            snes_atol: 1e-8
            snes_rtol: 1e-8
            snes_max_it: 100
            #snes_divergence_tolerance: -1.0
            snes_monitor: ""
            ksp_type: preonly
            pc_type: lu
            pc_factor_mat_solver_type: mumps

    # Damage solver parameters
    damage:
        type: TAO
        prefix: damage
        snes:
            # Options in the case of SNES solver
            snes_type: vinewtonrsls
            snes_linesearch_type: basic
            ksp_type: preonly
            pc_type: lu
            pc_factor_mat_solver_type: mumps
            snes_atol: 1.0e-08
            snes_rtol: 1.0e-09
            snes_stol: 0.0
            snes_max_it: 500
            # snes_divergence_tolerance: -1.0
            snes_monitor: ""
        tao:
            # Options in the case of TAO solver
            tao_type: tron
            tao_gpcg_maxpgits: 50
            tao_max_it: 100
            tao_steptol: 1.0e-7
            tao_gatol: 1.0e-8
            tao_grtol: 1.0e-8
            tao_gttol: 1.0e-8
            tao_catol: 0.
            tao_crtol: 0.
            tao_ls_ftol: 1e-5
            tao_ls_gtol: 1e-5
            tao_ls_rtol: 1e-5
            ksp_rtol: 1e-6
            tao_ls_stepmin: 1e-8
            tao_ls_stepmax: 1e6
            pc_type: lu
            tao_monitor: ""

    # Damage Elasticity Solver parameters
    damage_elasticity:
        max_it: 100
        alpha_tol: 1.0e-5
        criterion: alpha_H1
        # criterion: 'alpha_max', 'residual_u', 'alpha_L2', 'energy'

stability:
    order: 3
    projection: "None"
    maxmodes: 1
    checkstability: "True"
    continuation: "False"
    cont_rtol: 1.0e-05
    inactiveset_gatol: 1.e-10
    inactiveset_ubtol: 1.5e-1

    inertia:
        ksp_type: "preonly"
        pc_type: "cholesky"
        pc_factor_mat_solver_type: "mumps"
        mat_mumps_icntl_24: 1
        mat_mumps_icntl_13: 1

    eigen:
        eps_type: "krylovschur"
        eps_tol: 1e-5
        eps_monitor: ""
        eps_max_it: 100
        # E.setType(SLEPc.EPS.Type.KRYLOVSCHUR)
        # E.setProblemType(SLEPc.EPS.ProblemType.HEP)
        # E.setWhichEigenpairs(E.Which.TARGET_REAL)
        # E.setTarget(-.1)
        # st = E.getST()
        # st.setType('sinvert')
        # st.setShift(-1.e-3)
